(this.webpackJsonpcorridas=this.webpackJsonpcorridas||[]).push([[0],{39:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),i=a(33),n=a.n(i),s=(a(39),a(9)),o=a(5),l=a(1),d=Object(c.createContext)(),j=function(e){var t=e.children,a=Object(c.useState)([]),r=Object(o.a)(a,2),i=r[0],n=r[1],s=Object(c.useState)([]),j=Object(o.a)(s,2),b=j[0],u=j[1],m=Object(c.useState)([]),h=Object(o.a)(m,2),O=h[0],x=h[1],p=Object(c.useState)([]),f=Object(o.a)(p,2),g=f[0],S=f[1];return Object(l.jsx)(d.Provider,{value:{corridaList:i,setCorridaList:n,corrida:b,setCorrida:u,inscricao:O,setInscricao:x,user:g,setUser:S},children:t})};function b(){var e=Object(c.useContext)(d),t=e.user,a=e.setUser;return t.id&&localStorage.setItem("profile",JSON.stringify(t)),0===t.length&&localStorage.getItem("profile")&&a(JSON.parse(localStorage.getItem("profile"))),Object(c.useEffect)((function(){t.id&&localStorage.setItem("user",JSON.stringify(t)),0===t.length&&localStorage.getItem("user")&&a(JSON.parse(localStorage.getItem("user")))}),[a]),Object(l.jsx)("header",{children:Object(l.jsxs)("nav",{children:[Object(l.jsx)("ul",{children:Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/home",children:"home"})})}),""==t?Object(l.jsx)("article",{children:Object(l.jsx)(s.b,{to:"login",children:"login"})}):Object(l.jsxs)("div",{className:"profile",children:[Object(l.jsxs)("p",{children:["ol\xe1, ",t.login," "]}),Object(l.jsx)(s.b,{to:"/area-atleta",children:"\xe1rea do atleta"})]})]})})}var u=a(3),m=a(8),h=a(12),O=a.n(h);function x(){var e=Object(u.m)(),t=localStorage.getItem("profile")?JSON.parse(localStorage.getItem("profile")):"",a=Object(c.useState)(""),r=Object(o.a)(a,2),i=(r[0],r[1],Object(c.useState)(!1)),n=Object(o.a)(i,2),j=n[0],b=n[1],h=localStorage.getItem("inscricao")?JSON.parse(localStorage.getItem("inscricao")):[],x=Object(c.useContext)(d),p=x.corrida,f=x.setCorrida,g=x.setInscricao;return Object(c.useEffect)((function(){p.id&&localStorage.setItem("corrida",JSON.stringify(p)),0===p.length&&localStorage.getItem("corrida")&&f(JSON.parse(localStorage.getItem("corrida"))),h.length&&h.forEach((function(e){e.corrida.id==p.id&&b(!0)}))}),[f]),Object(l.jsx)("div",{className:"detail",children:Object(l.jsxs)("section",{className:"detail__top",children:[Object(l.jsxs)("div",{className:"detail__container",children:[Object(l.jsx)("figure",{className:"detail__banner",children:Object(l.jsx)("img",{src:p.imagem})}),Object(l.jsxs)("div",{className:"detail__information",children:[Object(l.jsxs)("article",{children:[Object(l.jsx)("h4",{children:p.nome}),Object(l.jsx)("h3",{children:p.data}),Object(l.jsx)("h3",{children:p.horario})]}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("h2",{children:"Endere\xe7o"}),Object(l.jsxs)("h5",{children:["Rua: ",p.rua]}),Object(l.jsxs)("h5",{children:["Bairro: ",p.bairro,", ",p.cidade,"-",p.estado]}),Object(l.jsxs)("h5",{children:["referencia: ",p.referencia]}),Object(l.jsxs)("h5",{children:["Dist\xe2ncia: ",p.distancia]})]})]})]}),j&&""!=t?Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"Voc\xea j\xe1 est\xe1 inscrito nessa corrida"})}):""!=t?Object(l.jsxs)("div",{className:"inscricao",children:[Object(l.jsx)("h2",{children:"Inscri\xe7\xe3o"}),Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{type:"text",name:"nome",placeholder:"nome",value:t.nome?t.nome:"",readOnly:!0}),Object(l.jsx)("input",{type:"text",name:"ncpf",placeholder:"cpf",value:t.cpf?t.cpf:"",readOnly:!0}),Object(l.jsx)("input",{type:"text",name:"email",placeholder:"email",value:t.email?t.email:""}),Object(l.jsx)("input",{type:"text",name:"telefone",placeholder:"telefone",value:t.telefone?t.telefone:""}),Object(l.jsx)("input",{type:"text",name:"data_nascimento",value:t.data_nascimento?t.data_nascimento:"",placeholder:"data nascimento",readOnly:!0}),Object(l.jsx)("input",{type:"text",name:"apelido",placeholder:"nome que ir\xe1 na identifica\xe7\xe3o"}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)("button",{type:"button",className:"btn-cancelar",children:"cancelar"}),Object(l.jsx)("button",{type:"button",className:"btn-salvar",onClick:function(){return function(){var a={id:p.id,corrida_id:p.id,usuario_id:t.id,numero_inscricao:parseInt(200*Math.random()),corrida:p};g((function(e){return[].concat(Object(m.a)(e),[a])})),O.a.fire("Sucesso!","inscri\xe7\xe3o realizada com sucesso","success").then((function(){e("/area-atleta",{replace:!0})}))}()},children:"salvar"})]})]})]}):Object(l.jsxs)("div",{className:"message",children:[Object(l.jsx)("h3",{children:"Voc\xea precisar estar logado no sistema para ter acesso ao formul\xe1rio de inscri\xe7\xe3o."}),Object(l.jsx)(s.b,{to:"/login",children:Object(l.jsx)("button",{className:"btn-login",children:"clique aqui para fazer login"})})]})]})})}var p=a.p+"static/media/banner-home.d08cd33d.png",f=a(28),g=a(4),S=a.n(g),v=a(7),_=a(34),N=a.n(_);a(67),a(68);function C(){var e=Object(u.m)(),t=Object(c.useContext)(d),a=t.corridaList,r=t.setCorridaList,i=t.setCorrida,n=[{id:1,nome:"Corrida rua XV",data:"25/04/2023",distancia:"5km",rua:"Rua xv de novembro 62",bairro:"Centro",cidade:"Curitiba",estado:"PR",referencia:"Boca maldita",imagem:"https://live.staticflickr.com/8660/16704676381_644f5e0b39_b.jpg",horario:"14:00hrs"},{id:2,nome:"Maratona 20km",data:"02/05/2023",distancia:"20km",rua:"Rua brigadeiro franco 559",bairro:"Centro",cidade:"Curitiba",estado:"PR",referencia:"Em frente ao Atacadao",imagem:"https://sportlife.com.br/wp-content/uploads/2014/07/calendario-corridas-agosto-Shutterstock_Images.jpg",horario:"15:00hrs"},{id:3,nome:"Maratona Jardim Botanico",data:"02/05/2023",distancia:"7km",rua:"Rua jose ficticio 6557",bairro:"Jardim Botanico",cidade:"Curitiba",estado:"PR",referencia:"Jardim Botanico",imagem:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Jardim_Bot%C3%A2nico_Centro_Curitiba.jpg/1200px-Jardim_Bot%C3%A2nico_Centro_Curitiba.jpg",horario:"11:00hrs"}];function s(){return(s=Object(v.a)(S.a.mark((function t(a){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i(a),e("/corrida-details",{replace:!0});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(v.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),Object(l.jsx)(l.Fragment,{children:a.length>0?Object(l.jsx)("ul",{className:"trails__list","data-testid":"trails-list",children:Object(l.jsx)(N.a,Object(f.a)(Object(f.a)({},{dots:!0,infinite:!1,slidesToShow:3,slidesToScroll:1,variableWidth:!0,responsive:[{breakpoint:1440,settings:{slidesToShow:2,slidesToScroll:1,dots:!0}},{breakpoint:916,settings:{slidesToShow:2,slidesToScroll:1,dots:!0,arrows:!1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1}}]}),{},{children:a.map((function(e){return Object(l.jsxs)("li",{className:"trails__item",children:[Object(l.jsx)("figure",{className:"trails__item--image",children:Object(l.jsx)("img",{src:e.imagem,alt:"trail background"})}),Object(l.jsxs)("article",{children:[Object(l.jsx)("h2",{className:"trails__item--title",children:e.data}),Object(l.jsx)("p",{className:"trails__item--description",children:e.nome}),Object(l.jsx)("div",{className:"trails__item--button",children:Object(l.jsx)("button",{onClick:function(){return function(e){return s.apply(this,arguments)}(e)},children:"detalhes"})})]})]},e.id)}))}))}):Object(l.jsx)("h1",{children:"Carregando corridas...."})})}function I(){return localStorage.removeItem("corrida"),Object(l.jsxs)("div",{className:"home","aria-hidden":"true",children:[Object(l.jsx)("section",{className:"home__top",children:Object(l.jsx)("figure",{className:"home__banner",children:Object(l.jsx)("img",{src:p,alt:"arte digital mostrando tr\xeas pessoas sobre um notebook gigante, colocando componentes na tela"})})}),Object(l.jsx)("h2",{className:"title",children:"PR\xd3XIMAS CORRIDAS"}),Object(l.jsx)("section",{className:"home__trails",children:Object(l.jsx)(C,{})})]})}function y(){var e=Object(c.useContext)(d).setUser,t=Object(u.m)(),a=Object(c.useState)(""),r=Object(o.a)(a,2),i=r[0],n=r[1],s=Object(c.useState)(""),j=Object(o.a)(s,2),b=j[0],m=j[1],h=Object(c.useState)(""),x=Object(o.a)(h,2),p=(x[0],x[1]),f=[{id:1,nome:"Rafael Daumann Bortone",login:"rafabortone",senha:"123456",cpf:"999.888.777-66",email:"rafa.teste@bortone.com.br",id_perfil:1,telefone:"(41) 99999-8888",data_nascimento:"27/02/1990"}];function g(){var a=!1;""!=i&&""!=b?(f.forEach((function(c){if(c.login==i&&c.senha==b)return a=!0,void function(a){p(a),e(a),localStorage.setItem("profile",JSON.stringify(a)),localStorage.getItem("corrida")?t("/corrida-details",{replace:!0}):t("/home",{replace:!0})}(c)})),a||O.a.fire("Aten\xe7\xe3o!","Usu\xe1rio n\xe3o encontrado","error")):O.a.fire("Aten\xe7\xe3o!","Preencha todos os campos","warning")}return Object(l.jsxs)("div",{className:"login",children:[Object(l.jsx)("h2",{children:"Login"}),Object(l.jsxs)("form",{children:[Object(l.jsx)("input",{type:"text",name:"login",value:i,onChange:function(e){return n(e.target.value)},placeholder:"login"}),Object(l.jsx)("input",{type:"password",name:"senha",value:b,onChange:function(e){return m(e.target.value)},placeholder:"senha"}),Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)("button",{type:"button",className:"btn-cancelar",children:"cancelar"}),Object(l.jsx)("button",{type:"button",className:"btn-salvar",onClick:function(){return g()},children:"Entrar"})]})]})]})}var k=a.p+"static/media/profile.b11f45a1.png";function w(){var e=Object(c.useContext)(d),t=e.setUser,a=e.inscricao,r=e.setInscricao,i=Object(u.m)();function n(e){var t=a.filter((function(t){return t.corrida_id!==e.corrida_id}));O.a.fire({title:"Aten\xe7\xe3o",text:"Tem certeza que deseja cancelar a inscri\xe7\xe3o na corrida: "+e.corrida.nome+"?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, deletar inscri\xe7\xe3o"}).then((function(e){e.isConfirmed&&(r(t),O.a.fire("Cancelado","Inscri\xe7\xe3o cancelada com sucesso.","success").then((function(){localStorage.setItem("inscricao",JSON.stringify(t))})))}))}return Object(c.useEffect)((function(){a.length&&localStorage.setItem("inscricao",JSON.stringify(a)),0===a.length&&localStorage.getItem("inscricao")&&r(JSON.parse(localStorage.getItem("inscricao")))}),[r]),Object(l.jsxs)("div",{className:"account",children:[Object(l.jsx)("h1",{children:"Area do atleta"}),Object(l.jsxs)("section",{className:"account__top",children:[Object(l.jsx)("figure",{className:"account__profile-icon",children:Object(l.jsx)("img",{src:k,alt:"arte digital mostrando tr\xeas pessoas sobre um notebook gigante, colocando componentes na tela"})}),Object(l.jsxs)("ul",{className:"account__menu",children:[Object(l.jsx)("li",{children:"Inscri\xe7\xf5es"}),Object(l.jsx)("li",{onClick:function(){return localStorage.removeItem("profile"),i("/home",{replace:!0}),void t("")},children:"sair"})]}),Object(l.jsxs)("div",{className:"account__information",children:[Object(l.jsx)("h2",{children:"Minhas Inscri\xe7\xf5es"}),Object(l.jsx)("ul",{className:"inscricoes",children:a.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsxs)("p",{children:[e.corrida.nome," ",e.corrida.distancia," ",e.corrida.data]}),Object(l.jsx)("button",{className:"btn-cancelar",type:"button",onClick:function(){return n(e)},children:"cancelar"})]})}))})]})]})]})}function J(){return Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{path:"/home",element:Object(l.jsx)(I,{})}),Object(l.jsx)(u.a,{path:"corrida-details",element:Object(l.jsx)(x,{})}),Object(l.jsx)(u.a,{path:"login",element:Object(l.jsx)(y,{})}),Object(l.jsx)(u.a,{path:"area-atleta",element:Object(l.jsx)(w,{})})]})}var B=function(){return Object(l.jsx)("main",{"data-testid":"main",children:Object(l.jsx)(j,{children:Object(l.jsxs)(s.a,{children:[Object(l.jsx)(b,{}),Object(l.jsx)(J,{})]})})})};n.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.51e07588.chunk.js.map